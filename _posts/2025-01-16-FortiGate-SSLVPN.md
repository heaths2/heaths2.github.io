---
title: FortiGate SSL VPN ì„¤ì •
author: G.G
date: 2025-01-16 11:39:00 +0900
categories: [Blog, Provisioning]
tags: [Fortinet, Fortigate, VPN]
---

## ğŸ“˜ ê°œìš”
FortiGate SSLVPNì€ Fortinet ë°©í™”ë²½ì„ í†µí•´ ì•ˆì „í•œ ì›ê²© ì ‘ì†ì„ ì œê³µí•˜ëŠ” VPN ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. SSL ê¸°ë°˜ ì•”í˜¸í™”ë¥¼ í™œìš©í•˜ì—¬ ì¸í„°ë„·ì„ í†µí•´ ì‚¬ë‚´ ë„¤íŠ¸ì›Œí¬ì— ì›ê²©ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ ë§¤ë‰´ì–¼ì€ FortiGateì—ì„œ SSLVPNì„ ì„¤ì •í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ë‹¨ê³„ë³„ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.

## ëª©ì 
1. FortiGate SSLVPN ì„¤ì • ë§¤ë‰´ì–¼ì€ ë‹¤ìŒê³¼ ê°™ì€ ëª©ì ì„ ê°–ìŠµë‹ˆë‹¤:
- FortiGate ë°©í™”ë²½ì„ ì´ìš©í•´ ì›ê²© ê·¼ë¬´ìë“¤ì´ ì‚¬ë‚´ ë„¤íŠ¸ì›Œí¬ì— ì•ˆì „í•˜ê²Œ ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ ì§€ì›.
- ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆì„ ìœ ì§€í•˜ë©´ì„œë„ íš¨ìœ¨ì ì¸ ì›ê²© ì ‘ì†ì„ êµ¬í˜„.
- ê´€ë¦¬ìê°€ FortiGate SSLVPNì„ êµ¬ì„±í•˜ê³ , ë¬¸ì œë¥¼ í•´ê²°í•˜ë©°, ìµœì í™”í•  ìˆ˜ ìˆë„ë¡ ë„ì›€ ì œê³µ.
## íŠ¹ì§•
FortiGate SSLVPNì€ ë‹¤ìŒê³¼ ê°™ì€ ì£¼ìš” íŠ¹ì§•ì„ ì œê³µí•©ë‹ˆë‹¤:

1. ë³´ì•ˆ
- SSL/TLS ê¸°ë°˜ ì•”í˜¸í™”ë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì†¡ ì¤‘ ë°ì´í„° ë³´í˜¸.
- ë‘ ë‹¨ê³„ ì¸ì¦(2FA)ì„ í†µí•œ ë³´ì•ˆ ê°•í™”.
- IP ë° ì‚¬ìš©ì ê¸°ë°˜ ì ‘ê·¼ ì œì–´ ì •ì±… ì œê³µ.
2. ìœ ì—°ì„±
- ì›¹ ë¸Œë¼ìš°ì € ê¸°ë°˜ í¬í„¸ ë˜ëŠ” FortiClient ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•œ ì ‘ì†.
- íŠ¹ì • ì• í”Œë¦¬ì¼€ì´ì…˜ íŠ¸ë˜í”½ë§Œ VPNì„ í†µí•´ ì „ë‹¬í•˜ëŠ” ìŠ¤í”Œë¦¿ í„°ë„ë§(Split Tunneling) ì§€ì›.
3. í™•ì¥ì„±
- ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ ë° í”Œë«í¼(Windows, macOS, Linux, Android, iOS) ì§€ì›.
- ì›ê²© ì ‘ì† ì‚¬ìš©ì ìˆ˜ì— ë”°ë¼ ìœ ì—°í•œ í™•ì¥ ê°€ëŠ¥.
4. ê´€ë¦¬ í¸ì˜ì„±
- ì¤‘ì•™ì§‘ì¤‘ì‹ ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤(FortiGate GUI)ë¥¼ í†µí•œ ì„¤ì • ë° ëª¨ë‹ˆí„°ë§.
- ì‚¬ìš©ì ì„¸ì…˜ ëª¨ë‹ˆí„°ë§ ë° ì‹¤ì‹œê°„ ë¡œê·¸ ë¶„ì„.
- í†µí•©ëœ Fortinet ë³´ì•ˆ ì†”ë£¨ì…˜ê³¼ì˜ ì—°ë™.

## SSLVPN ì„¤ì •

### SSLVPN ì‚¬ìš©ì IP í’€ ì„¤ì •
- SSLVPN ì‚¬ìš©ìê°€ í• ë‹¹ë°›ì„ IP ì£¼ì†Œ ë²”ìœ„ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
- ì—¬ê¸°ì„œëŠ” 192.168.200.0/24 ëŒ€ì—­ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```bash
config firewall address
    edit "SSLVPN address"
        set subnet 192.168.200.0 255.255.255.0
    next
end
```

### SSLVPN í¬í„¸ ì„¤ì •
- SSLVPN ì‚¬ìš©ìë¥¼ ìœ„í•œ í¬í„¸ ì„¤ì •ì…ë‹ˆë‹¤.
- í„°ë„ ëª¨ë“œë¥¼ í™œì„±í™”í•˜ê³ , MAC ì£¼ì†Œ ì¸ì¦ì„ ì„¤ì •í•©ë‹ˆë‹¤.

```bash
config vpn ssl web portal
    edit "Infra-SSLVPN"
        set tunnel-mode enable
        set ip-pools "SSLVPN address"
        set mac-addr-check enable
        config mac-addr-check-rule
            edit "Allowed-VPN-MAC"
                set mac-addr-list aa:bb:cc:dd:ee:ff
            next
        set mac-addr-action allow
        end
    next
end
```

### ë°©í™”ë²½ ì •ì±… ì„¤ì •
- SSLVPNì—ì„œ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë¡œì˜ ì ‘ê·¼ì„ í—ˆìš©í•˜ëŠ” ì •ì±…ì…ë‹ˆë‹¤.

```bash
config firewall policy
    edit 4
        set srcintf "ssl.root"
        set dstintf "Internal"
        set action accept
        set srcaddr "SSLVPN address"
        set dstaddr "VLAN-500 address"
        set schedule "always"
        set service "ALL"
        set logtraffic all
        set groups "Radius Authentication"
    next
end
```

### SSLVPN í¬í„¸ ìƒì„¸ ì„¤ì • í™•ì¸
- "Infra-SSLVPN" í¬í„¸ì˜ ì „ì²´ ì„¤ì •ì„ í™•ì¸í•©ë‹ˆë‹¤.

```bash
Infra # show full-configuration vpn ssl web portal Infra-SSLVPN
config vpn ssl web portal
    edit "Infra-SSLVPN"
        set tunnel-mode enable
        set ipv6-tunnel-mode disable
        set web-mode disable
        set allow-user-access web ftp smb sftp telnet ssh vnc rdp ping
        set limit-user-logins disable
        set forticlient-download enable
        set ip-mode range
        set auto-connect disable
        set keep-alive disable
        set save-password disable
        set ip-pools "SSLVPN address"
        set split-tunneling enable
        set split-tunneling-routing-negate disable
        set dns-server1 0.0.0.0
        set dns-server2 0.0.0.0
        set dns-suffix ''
        set wins-server1 0.0.0.0
        set wins-server2 0.0.0.0
        set dhcp-ra-giaddr 0.0.0.0
        set client-src-range disable
        set host-check none
        set mac-addr-check enable
        set mac-addr-action allow
        config mac-addr-check-rule
            edit "Allowed-VPN-MAC"
                set mac-addr-mask 48
                set mac-addr-list aa:bb:cc:dd:ee:ff
            next
        end
        set os-check disable
        set forticlient-download-method direct
        set customize-forticlient-download-url disable
        set skip-check-for-unsupported-os enable
        set skip-check-for-browser enable
    next
end

Infra #
```

> - `show full-configuration vpn ssl web portal Infra-SSLVPN` ëª…ë ¹ì–´
{: .prompt-tip }

### SSLVPN ì„œë²„ ì„¤ì •
- SSL ì¸ì¦ì„œ ë° ì‚¬ìš©ì, ì¸ì¦ ê·¸ë£¹ì¶”ê°€

```bash
config vpn ssl settings
    set servercert "Fortinet_Factory"
    set tunnel-ip-pools "SSLVPN address"
    set dns-server1 168.126.63.1
    set dns-server2 168.126.63.2
    set port 443
    set source-interface "External"
    set source-address "all"
    set source-address6 "all"
    set default-portal "tunnel-access"
    config authentication-rule
        edit 1
            set groups "Radius Authentication" "SSL-VPN"
            set portal "Infra-SSLVPN"
        next
    end
end
```

### ë””ë²„ê¹… ëª…ë ¹ì–´
- SSLVPN ë””ë²„ê¹…ì„ ìœ„í•œ ëª…ë ¹ì–´ì…ë‹ˆë‹¤.
- ë””ë²„ê·¸ ë¡œê·¸ë¥¼ í™œì„±í™”í•˜ì—¬ ë¬¸ì œë¥¼ ì§„ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
diagnose debug application sslvpn -1
diagnose debug console timestamp enable
diagnose debug enable
```

## ì°¸ì¡°
> - [FortiGate ê³µì‹ë¬¸ì„œ](https://docs.fortinet.com/document/fortigate/7.4.4/administration-guide/032970/configuring-os-and-host-check)
